%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% u-sho_style.sty                                                  %%
%%   よく使うパッケージ群                                           %%
\NeedsTeXFormat{pLaTeX2e}                                           %%
\ProvidesPackage{u-sho_style}[2024/03/10 v2.0.2 u-sho's style file] %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%% Load Dependencies

%%   graphics
\RequirePackage[nosetpagesize]{graphicx} % 図表の挿入
\RequirePackage{xcolor}                  % 色

%%   AMS-LaTeX packages
\RequirePackage{mathtools} % << amsmath & bugfix & \cmds
\RequirePackage{amssymb}   % << amsfonts & \times & others

%%   SI units
\RequirePackage{siunitx}  % \si & {tabular}{S[table-format=+1.1e+1]}
  \sisetup{%
    separate-uncertainty=true,%             \SI{3.2+-0.1e-3}{mm}
    list-final-separator={,\,\ldots\,,\,}%  \numlist{1;2;10}
  }
\RequirePackage{plsiunitx}

%%   hyper links
\RequirePackage{prettyref}  % \prettyref
\RequirePackage[%
  hidelinks,%                 no color
  setpagesize=false,%         don't change page-size
  bookmarksnumbered,%
% pdftitle={my title},%       title
% pdfauthor={u-sho},%         author
  pdfusetitle,%               from \title & \author
% pdfsubject={my subject},%   subject
  pdfkeywords={u-sho style}%  keywords
]{hyperref}                 % toc, ref, cite, url
\RequirePackage{pxjahyper}  % hyperref to Japanese


%% other packages
%%  - amsthm:   定理環境 jsthm.sty を見るとよい
%%  - ascmac:   screen環境，shadowbox環境等の囲み
%%  - diagbox:  表のセルに斜線を引く
%%  - fancyhdr: ヘッダー & ページ番号
%%  - float:    << here : [H] option (使う前に[!h]を試すとよい)
%%  - fontenc:  [T1] option: フォントエンコード
%%  - listings: Syntax Highlight
%%  - minted:   ソースファイル挿入 & Syntax Highlight
%%  - mdframed: ページを跨ぐ枠
%%  - wrapfig:  文章中に図表の挿入


% 式番号 \eqref \refeq は mathtools で定義されてる
\newrefformat{eq}{\hyperref[#1]{式\eqref{#1}}}

% 図表番号
\newrefformat{fg}{\hyperref[#1]{図\ref*{#1}}}
\newrefformat{fig}{\hyperref[#1]{図\ref*{#1}}}
\newrefformat{tb}{\hyperref[#1]{表\ref*{#1}}}
\newrefformat{tab}{\hyperref[#1]{表\ref*{#1}}}
\newrefformat{tbl}{\hyperref[#1]{表\ref*{#1}}}

% 章番号
\newrefformat{part}{\hyperref[#1]{第\ref*{#1}部}}
\newrefformat{sec}{\hyperref[#1]{\ref*{#1}章}}
\newrefformat{sub}{\hyperref[#1]{\ref*{#1}節}}
\newrefformat{ft}{\hyperref[#1]{脚注\ref*{#1}}}


% 図表は中央揃え
\newenvironment{cfigure}[1][htpb]{%
  \begin{figure}[#1]
    \centering
  }{\end{figure}}
\newenvironment{ctable}[1][htpb]{%
  \begin{table}[#1]
    \centering
  }{\end{table}}


% 文字色
\newcommand{\tBlack}[1]{\textcolor{black}{#1}}
\newcommand{\tWhite}[1]{\textcolor{white}{#1}}
\newcommand{\tRed}[1]{\textcolor{red}{#1}}
\newcommand{\tGreen}[1]{\textcolor{green}{#1}}
\newcommand{\tBlue}[1]{\textcolor{blue}{#1}}
\newcommand{\tCyan}[1]{\textcolor{cyan}{#1}}
\newcommand{\tMagenta}[1]{\textcolor{magenta}{#1}}
\newcommand{\tYellow}[1]{\textcolor{yellow}{#1}}
\newcommand{\tOrange}[1]{\textcolor{orange}{#1}}
% 文字色（数式）
\newcommand{\mBlack}[1]{\mathcolor{black}{#1}}
\newcommand{\mWhite}[1]{\mathcolor{white}{#1}}
\newcommand{\mRed}[1]{\mathcolor{red}{#1}}
\newcommand{\mGreen}[1]{\mathcolor{green}{#1}}
\newcommand{\mBlue}[1]{\mathcolor{blue}{#1}}
\newcommand{\mCyan}[1]{\mathcolor{cyan}{#1}}
\newcommand{\mMagenta}[1]{\mathcolor{magenta}{#1}}
\newcommand{\mYellow}[1]{\mathcolor{yellow}{#1}}
\newcommand{\mOrange}[1]{\mathcolor{orange}{#1}}

% 背景色
\newcommand{\bgBlack}[1]{\colorbox{black}{#1}}
\newcommand{\bgWhite}[1]{\colorbox{white}{#1}}
\newcommand{\bgRed}[1]{\colorbox{red}{#1}}
\newcommand{\bgGreen}[1]{\colorbox{green}{#1}}
\newcommand{\bgBlue}[1]{\colorbox{blue}{#1}}
\newcommand{\bgCyan}[1]{\colorbox{cyan}{#1}}
\newcommand{\bgMagenta}[1]{\colorbox{magenta}{#1}}
\newcommand{\bgYellow}[1]{\colorbox{yellow}{#1}}
\newcommand{\bgOrange}[1]{\colorbox{orange}{#1}}

% デバッグ
\newcommand{\debugR}[1]{\textcolor{red}{#1}}
\newcommand{\debugG}[1]{\textcolor{green}{#1}}
\newcommand{\debugB}[1]{\textcolor{blue}{#1}}
\newcommand{\debugC}[1]{\textcolor{cyan}{#1}}
\newcommand{\debugM}[1]{\textcolor{magenta}{#1}}
\newcommand{\debugY}[1]{\textcolor{yellow}{#1}}
\newcommand{\fixme}[1]{\debugR{FIXME:\ \textbf{#1}}}% 既知の不具合
\newcommand{\todo}[1]{\debugR{TODO:\ \textbf{#1}}}  % todo
\newcommand{\hack}[1]{\debugM{HACK:\ \textbf{#1}}}  % refactoring（差迫ってはいない）
\newcommand{\note}[1]{\debugC{NOTE:\ \textbf{#1}}}  % コメント(whyを書く)
